
<!-- @if(view === "cart"){ -->

    @for (orderRow of cart; track orderRow; let i = $index) {
        <div>{{orderRow.product.name}}</div>
        <div>{{orderRow.product.price.toFixed(2)}}</div>
        <button (click)="decreaseQuantity(i)">-</button>
        <div>{{orderRow.pcs}}</div>
        <button (click)="increaseQuantity(i)">+</button>
        <div>{{(orderRow.product.price * orderRow.pcs).toFixed(2) + "$"}}</div>
        <button (click)="removeFromCart(i)">X</button>
    }
<!-- } -->

@if(isLoggedIn){

    
    <div>Total in cart : {{calculateTotal()}}$</div>
    <button (click)='sendOrderToBE()'>pay</button>
    
}@else {
    <button routerLink ="/login">Login</button>
}

@if (cart.length > 0){
    <select>
        @for (pm of parcelMachines; track pm) {
            <option>{{pm.NAME}}</option>
        }
    </select>


    <button (click)="getPMsByCOuntry('ee')">Est</button>
    <button (click)="getPMsByCOuntry('lt')">Lat</button>
    <button (click)="getPMsByCOuntry('lv')">Lit</button>
}


<!-- @if(view === "emailInput"){
    <label>E-mail</label>
    <input [(ngModel)]="email" type="text">
    <button (click)="changeView('pay')">insert</button>
    {{email}}
} -->

<!-- @if(view === "pay"){
    <button (click)="sendOrderToBE()">maksa ja telli</button>
} -->
